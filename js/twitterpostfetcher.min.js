/*********************************************************************
*  #### Twitter Post Fetcher v9.0 ####
*  Coded by Jason Mayes 2013. A present to all the developers out there.
*  www.jasonmayes.com
*  Please keep this disclaimer with my code if you use it. Thanks. :-)
*  Got feedback or questions, ask here: 
*  http://www.jasonmayes.com/projects/twitterApi/
*  Updates will be posted to this site.
*********************************************************************/var twitterFetcher=function(){function e(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function t(e,t){for(var n=[],r=RegExp("(^| )"+t+"( |$)"),i=e.getElementsByTagName("*"),s=0,o=i.length;s<o;s++)r.test(i[s].className)&&n.push(i[s]);return n}var n="",r=20,i=!0,s=[],o=!1,u=!0,a=!0,f=null,l=!0,c=!0,h=null;return{fetch:function(e,t,l,d,v,m,g,y,b){void 0===l&&(l=20);void 0===d&&(i=!0);void 0===v&&(v=!0);void 0===m&&(m=!0);void 0===g&&(g="default");void 0===y&&(y=!0);void 0===b&&(b=null);o?s.push({id:e,domId:t,maxTweets:l,enableLinks:d,showUser:v,showTime:m,dateFunction:g,showRt:y,customCallback:b}):(o=!0,n=t,r=l,i=d,a=v,u=m,c=y,f=g,h=b,t=document.createElement("script"),t.type="text/javascript",t.src="//cdn.syndication.twimg.com/widgets/timelines/"+e+"?&lang=en&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),document.getElementsByTagName("head")[0].appendChild(t))},callback:function(d){var g=document.createElement("div");g.innerHTML=d.body;"undefined"==typeof g.getElementsByClassName&&(l=!1);d=[];var y=[],b=[],E=[],S=0;if(l)for(g=g.getElementsByClassName("tweet");S<g.length;){0<g[S].getElementsByClassName("retweet-credit").length?E.push(!0):E.push(!1);if(!E[S]||E[S]&&c)d.push(g[S].getElementsByClassName("e-entry-title")[0]),y.push(g[S].getElementsByClassName("p-author")[0]),b.push(g[S].getElementsByClassName("dt-updated")[0]);S++}else for(g=t(g,"tweet");S<g.length;)d.push(t(g[S],"e-entry-title")[0]),y.push(t(g[S],"p-author")[0]),b.push(t(g[S],"dt-updated")[0]),0<t(g[S],"retweet-credit").length?E.push(!0):E.push(!1),S++;d.length>r&&(d.splice(r,d.length-r),y.splice(r,y.length-r),b.splice(r,b.length-r),E.splice(r,E.length-r));g=[];S=d.length;for(E=0;E<S;){if("string"!=typeof f){var T=new Date(b[E].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),T=f(T);b[E].setAttribute("aria-label",T);if(d[E].innerText)if(l)b[E].innerText=T;else{var N=document.createElement("p"),C=document.createTextNode(T);N.appendChild(C);N.setAttribute("aria-label",T);b[E]=N}else b[E].textContent=T}i?(T="",a&&(T+='<div class="user">'+e(y[E].innerHTML)+"</div>"),T+='<p class="tweet">'+e(d[E].innerHTML)+"</p>",u&&(T+='<p class="timePosted">'+b[E].getAttribute("aria-label")+"</p>")):d[E].innerText?(T="",a&&(T+='<p class="user">'+y[E].innerText+"</p>"),T+='<p class="tweet">'+d[E].innerText+"</p>",u&&(T+='<p class="timePosted">'+b[E].innerText+"</p>")):(T="",a&&(T+='<p class="user">'+y[E].textContent+"</p>"),T+='<p class="tweet">'+d[E].textContent+"</p>",u&&(T+='<p class="timePosted">'+b[E].textContent+"</p>"));g.push(T);E++}if(null==h){d=g.length;y=0;b=document.getElementById(n);for(S="<ul>";y<d;)S+="<li>"+g[y]+"</li>",y++;b.innerHTML=S+"</ul>"}else h(g);o=!1;0<s.length&&(twitterFetcher.fetch(s[0].id,s[0].domId,s[0].maxTweets,s[0].enableLinks,s[0].showUser,s[0].showTime,s[0].dateFunction,s[0].showRt,s[0].customCallback),s.splice(0,1))}}}();