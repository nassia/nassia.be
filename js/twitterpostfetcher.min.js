/*********************************************************************
*  #### Twitter Post Fetcher v8.0 ####
*  Coded by Jason Mayes 2013. A present to all the developers out there.
*  www.jasonmayes.com
*  Please keep this disclaimer with my code if you use it. Thanks. :-)
*  Got feedback or questions, ask here: 
*  http://www.jasonmayes.com/projects/twitterApi/
*  Updates will be posted to this site.
*********************************************************************/var twitterFetcher=function(){function e(e){return e.replace(/<b[^>]*>(.*?)<\/b>/gi,function(e,t){return t}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function t(e,t){for(var n=[],r=RegExp("(^| )"+t+"( |$)"),i=e.getElementsByTagName("*"),s=0,o=i.length;s<o;s++)r.test(i[s].className)&&n.push(i[s]);return n}var n="",r=20,i=!0,s=[],o=!1,u=!0,a=!0,f=null,l=!0,c=!0;return{fetch:function(e,t,l,d,g,y,b,w){void 0===l&&(l=20);void 0===d&&(i=!0);void 0===g&&(g=!0);void 0===y&&(y=!0);void 0===b&&(b="default");void 0===w&&(w=!0);o?s.push({id:e,domId:t,maxTweets:l,enableLinks:d,showUser:g,showTime:y,dateFunction:b,showRt:w}):(o=!0,n=t,r=l,i=d,a=g,u=y,c=w,f=b,t=document.createElement("script"),t.type="text/javascript",t.src="//cdn.syndication.twimg.com/widgets/timelines/"+e+"?&lang=en&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),document.getElementsByTagName("head")[0].appendChild(t))},callback:function(d){var g=document.createElement("div");g.innerHTML=d.body;"undefined"==typeof g.getElementsByClassName&&(l=!1);d=[];var y=[],b=[],w=[],E=0;if(l)for(g=g.getElementsByClassName("tweet");E<g.length;){0<g[E].getElementsByClassName("retweet-credit").length?w.push(!0):w.push(!1);if(!w[E]||w[E]&&c)d.push(g[E].getElementsByClassName("e-entry-title")[0]),y.push(g[E].getElementsByClassName("p-author")[0]),b.push(g[E].getElementsByClassName("dt-updated")[0]);E++}else for(g=t(g,"tweet");E<g.length;)d.push(t(g[E],"e-entry-title")[0]),y.push(t(g[E],"p-author")[0]),b.push(t(g[E],"dt-updated")[0]),0<t(g[E],"retweet-credit").length?w.push(!0):w.push(!1),E++;d.length>r&&(d.splice(r,d.length-r),y.splice(r,y.length-r),b.splice(r,b.length-r),w.splice(r,w.length-r));g=[];E=d.length;for(w=0;w<E;){if("string"!=typeof f){var S=new Date(b[w].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),S=f(S);b[w].setAttribute("aria-label",S);if(d[w].innerText)if(l)b[w].innerText=S;else{var x=document.createElement("p"),T=document.createTextNode(S);x.appendChild(T);x.setAttribute("aria-label",S);b[w]=x}else b[w].textContent=S}i?(S="",a&&(S+='<div class="user">'+e(y[w].innerHTML)+"</div>"),S+='<p class="tweet">'+e(d[w].innerHTML)+"</p>",u&&(S+='<p class="timePosted">'+b[w].getAttribute("aria-label")+"</p>")):d[w].innerText?(S="",a&&(S+='<p class="user">'+y[w].innerText+"</p>"),S+='<p class="tweet">'+d[w].innerText+"</p>",u&&(S+='<p class="timePosted">'+b[w].innerText+"</p>")):(S="",a&&(S+='<p class="user">'+y[w].textContent+"</p>"),S+='<p class="tweet">'+d[w].textContent+"</p>",u&&(S+='<p class="timePosted">'+b[w].textContent+"</p>"));g.push(S);w++}d=g.length;y=0;b=document.getElementById(n);for(E="<ul>";y<d;)E+="<li>"+g[y]+"</li>",y++;b.innerHTML=E+"</ul>";o=!1;0<s.length&&(twitterFetcher.fetch(s[0].id,s[0].domId,s[0].maxTweets,s[0].enableLinks,s[0].showUser,s[0].showTime,s[0].dateFunction,s[0].showRt),s.splice(0,1))}}}();